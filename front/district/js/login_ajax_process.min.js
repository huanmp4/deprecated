function Signin(){this.signinSubmitBtn=$("#signin-submit-btn"),this.signupSubmitBtn=$("#signup-submit-btn"),this.logOutNow=$(".log-out-now2"),this.signupButton=$(".signup-text"),this.wrapper=$(".mask-wrapper"),this.loginBtn=$(".login-text"),this.loginToggle=$(".switch"),this.logincloseBtn=$(".close-btn"),this.loginPrompt=$(".login-prompt"),this.signinGroup=$(".signin-group"),this.promptAccount=this.signinGroup.find(".prompt-account"),this.promptPassword=this.signinGroup.find(".prompt-password"),this.usernameBorder=this.signinGroup.find('input[name="username"]'),this.passwordBorder=this.signinGroup.find('input[name="password"]'),this.smsCaptchaBtn=$(".sms-captcha-btn"),this.signupGroup=$(".signup-group"),this.signupTelephone=this.signupGroup.find('input[name="telephone"]'),this.msCaptcha=this.signupGroup.find('input[name="img-captcha-code"]'),this.testNum="test1112"}Signin.prototype.listenMoreBoxHover=function(){var n=$(".auth-box"),o=$(".auth-more-box");o.hide(),n.hover(function(){o.show()},function(){o.hide()})},Signin.prototype.navEvent=function(){var n=window.location.href,o=window.location.protocol+"//"+window.location.host,i=n.replace(o,"");$(".nav li").each(function(n,o){var t=$(o);if(t.children("a").attr("href")===i)return t.addClass("active"),!1})},Signin.prototype.listenSendMessageEvent=function(){var e=this;e.smsCaptchaBtn.click(function(n){n.preventDefault();var o=e.signupTelephone.val(),t=e.msCaptcha.val();e.smsCaptchaBtn.unbind("click"),console.log("telephone",o),console.log("code",t);var i=5;e.smsCaptchaBtn.addClass("disableClass");var s=setInterval(function(){e.smsCaptchaBtn.text(i+"s"),--i<0&&(clearInterval(s),e.smsCaptchaBtn.text("发送验证码"),e.smsCaptchaBtn.removeClass("disableClass"),e.listenSendMessageEvent())},1e3);yourajax.get({url:"/register/send",data:{telephone:o,code:t},success:function(n){200===n.code&&window.messageBox.show(n.message)},fail:function(n){console.log("错误",n)}})})},Signin.prototype.Otherwise=function(){this.logOutNow.css({cursor:"pointer"}),$(".log-out-now2").css({color:"black"})},Signin.prototype.signinPromptHideEvent=function(){var n=this;n.usernameBorder.css({border:"1px solid #ccc"}),n.passwordBorder.css({border:"1px solid #ccc"}),n.promptAccount.text(""),n.promptPassword.text(""),n.promptAccount.hide(),n.promptPassword.hide()},Signin.prototype.signinPromptShowEvent=function(){this.promptAccount.show(),this.promptPassword.show()},Signin.prototype.ListenClick=function(){var s=this;s.loginBtn.click(function(){s.wrapper.show(),s.loginPrompt.hide()}),s.signinSubmitBtn.click(function(n){console.log("submitBtn"),n.preventDefault();var o=s.signinGroup.find('input[name="username"]').val(),t=s.signinGroup.find('input[name="password"]').val();console.log("username",o),s.signinPromptHideEvent(),s.signinPromptShowEvent(),loginajax.post({url:"/register/loginView",data:{username:o,password:t},success:function(n){console.log("result总信息",n),200===n.code&&(window.messageBox.show("成功登录"),window.location.reload())}})}),s.logOutNow.click(function(n){console.log("logoutClick"),n.preventDefault(),yourajax.post({url:"/register/logoutView",success:function(){console.log("成功"),window.location.reload()}})}),s.signupButton.click(function(){var n=$(".mask-wrapper");$(".scroll-wrapper").css({left:"-400px"}),n.show()}),s.signupGroup=$(".input-group-addon"),s.imageCaptcha=s.signupGroup.find('img[class="img-captcha"]'),s.imageCaptcha.click(function(){var n="/register/img_captcha/?random="+Math.random();console.log("randomNum:",n),s.imageCaptcha.attr("src",n)}),s.signupSubmitBtn.click(function(n){console.log("submitBtn"),n.preventDefault();var o=$(".signup-group"),t=o.find('input[name="username"]').val(),i=o.find('input[name="telephone"]').val(),s=o.find('input[name="password1"]').val(),e=o.find('input[name="password2"]').val(),a=o.find('input[name="sms_captcha"]').val();yourajax.post({url:"/register/signupView",data:{username:t,telephone:i,password1:s,password2:e,telephone_code:a},success:function(n){if(200===n.code)window.messageBox.show("注册成功"),window.location.reload();else if(311===n.code)window.messageBox.show(n.message);else{var o=n.message;"String"==o||o.constructor==String?window.messageBox.show(o):console.log("messageObject",o)}},fail:function(n){console.log(n)}})}),s.logincloseBtn.click(function(){s.wrapper.hide(),s.signinPromptHideEvent()}),s.loginToggle.click(function(){var n=$(".scroll-wrapper"),o=n.css("left"),t=$(".auth-wrapper");console.log("scrollLeft:",o);var i=parseInt(o);console.log("scrollLeftNum:",i),-400===i&&(n.animate({left:"0px"},500),t.css({"margin-top":"-180px"})),0===i&&(n.animate({left:"-400px"},500),t.css({"margin-top":"-260px"})),s.signinPromptHideEvent()})},Signin.prototype.Run=function(){this.navEvent()},$(function(){var n=new Signin;n.ListenClick(),n.Otherwise(),n.listenSendMessageEvent(),n.Run(),n.listenMoreBoxHover()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luX2FqYXhfcHJvY2Vzcy5qcyJdLCJuYW1lcyI6WyJTaWduaW4iLCJ0aGlzIiwic2lnbmluU3VibWl0QnRuIiwiJCIsInNpZ251cFN1Ym1pdEJ0biIsImxvZ091dE5vdyIsInNpZ251cEJ1dHRvbiIsIndyYXBwZXIiLCJsb2dpbkJ0biIsImxvZ2luVG9nZ2xlIiwibG9naW5jbG9zZUJ0biIsImxvZ2luUHJvbXB0Iiwic2lnbmluR3JvdXAiLCJwcm9tcHRBY2NvdW50IiwiZmluZCIsInByb21wdFBhc3N3b3JkIiwidXNlcm5hbWVCb3JkZXIiLCJwYXNzd29yZEJvcmRlciIsInNtc0NhcHRjaGFCdG4iLCJzaWdudXBHcm91cCIsInNpZ251cFRlbGVwaG9uZSIsIm1zQ2FwdGNoYSIsInRlc3ROdW0iLCJwcm90b3R5cGUiLCJsaXN0ZW5Nb3JlQm94SG92ZXIiLCJhdXRoQm94IiwiYXV0aE1vcmVCb3giLCJoaWRlIiwiaG92ZXIiLCJzaG93IiwibmF2RXZlbnQiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJkb21haW4iLCJwcm90b2NvbCIsImhvc3QiLCJwYXRoIiwicmVwbGFjZSIsImVhY2giLCJpbmRleCIsImVsZW1lbnQiLCJsaSIsImNoaWxkcmVuIiwiYXR0ciIsImFkZENsYXNzIiwibGlzdGVuU2VuZE1lc3NhZ2VFdmVudCIsInNlbGYiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzaWdudXBUZWxlcGhvbmVOdW0iLCJ2YWwiLCJtc2NhcHRjaGFOdW0iLCJ1bmJpbmQiLCJjb25zb2xlIiwibG9nIiwiY291bnQiLCJ0aW1lciIsInNldEludGVydmFsIiwidGV4dCIsImNsZWFySW50ZXJ2YWwiLCJyZW1vdmVDbGFzcyIsInlvdXJhamF4IiwiZ2V0IiwiZGF0YSIsInRlbGVwaG9uZSIsImNvZGUiLCJzdWNjZXNzIiwicmVzdWx0IiwibWVzc2FnZUJveCIsImZhaWwiLCJlcnJvciIsIk90aGVyd2lzZSIsImNzcyIsImN1cnNvciIsImNvbG9yIiwic2lnbmluUHJvbXB0SGlkZUV2ZW50IiwiYm9yZGVyIiwic2lnbmluUHJvbXB0U2hvd0V2ZW50IiwiTGlzdGVuQ2xpY2siLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9naW5hamF4IiwicG9zdCIsInJlbG9hZCIsIm1hc2tfd3JhcHBlciIsImxlZnQiLCJpbWFnZUNhcHRjaGEiLCJyYW5kb21OdW0iLCJNYXRoIiwicmFuZG9tIiwic2lnbnVwX2dyb3VwIiwidXNlcm5hbWVfdGVtcCIsInRlbGVwaG9uZV90ZW1wIiwicGFzc3dvcmRfdGVtcDEiLCJwYXNzd29yZF90ZW1wMiIsInRlbGVwaG9uZV9jb2RlIiwicGFzc3dvcmQxIiwicGFzc3dvcmQyIiwibWVzc2FnZU9iamVjdCIsImNvbnN0cnVjdG9yIiwiU3RyaW5nIiwic2Nyb2xsIiwic2Nyb2xsTGVmdCIsImhlaWdodE51bSIsInNjcm9sbExlZnROdW0iLCJwYXJzZUludCIsImFuaW1hdGUiLCJtYXJnaW4tdG9wIiwiUnVuIiwic2lnbmluIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxTQUNMQyxLQUFLQyxnQkFBa0JDLEVBQUUsc0JBQ3pCRixLQUFLRyxnQkFBa0JELEVBQUUsc0JBQ3pCRixLQUFLSSxVQUFZRixFQUFFLGlCQUNuQkYsS0FBS0ssYUFBZUgsRUFBRSxnQkFDdEJGLEtBQUtNLFFBQVVKLEVBQUUsaUJBQ2pCRixLQUFLTyxTQUFXTCxFQUFFLGVBQ2xCRixLQUFLUSxZQUFjTixFQUFFLFdBQ3JCRixLQUFLUyxjQUFnQlAsRUFBRSxjQUN2QkYsS0FBS1UsWUFBY1IsRUFBRSxpQkFDckJGLEtBQUtXLFlBQWNULEVBQUUsaUJBQ3JCRixLQUFLWSxjQUFnQlosS0FBS1csWUFBWUUsS0FBSyxtQkFDM0NiLEtBQUtjLGVBQWlCZCxLQUFLVyxZQUFZRSxLQUFLLG9CQUM1Q2IsS0FBS2UsZUFBaUJmLEtBQUtXLFlBQVlFLEtBQUssMEJBQzVDYixLQUFLZ0IsZUFBaUJoQixLQUFLVyxZQUFZRSxLQUFLLDBCQUM1Q2IsS0FB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QixZQUdUM0IsRUFBRSxXQUNFLElBQUk2RyxFQUFTLElBQUloSCxPQUNqQmdILEVBQU8vQixjQUNQK0IsRUFBT3RDLFlBQ1BzQyxFQUFPakUseUJBQ1BpRSxFQUFPRCxNQUNQQyxFQUFPeEYiLCJmaWxlIjoibG9naW5fYWpheF9wcm9jZXNzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFNpZ25pbigpe1xyXG4gICAgdGhpcy5zaWduaW5TdWJtaXRCdG4gPSAkKCcjc2lnbmluLXN1Ym1pdC1idG4nKTtcclxuICAgIHRoaXMuc2lnbnVwU3VibWl0QnRuID0gJCgnI3NpZ251cC1zdWJtaXQtYnRuJyk7XHJcbiAgICB0aGlzLmxvZ091dE5vdyA9ICQoJy5sb2ctb3V0LW5vdzInKTtcclxuICAgIHRoaXMuc2lnbnVwQnV0dG9uID0gJCgnLnNpZ251cC10ZXh0Jyk7XHJcbiAgICB0aGlzLndyYXBwZXIgPSAkKCcubWFzay13cmFwcGVyJyk7XHJcbiAgICB0aGlzLmxvZ2luQnRuID0gJCgnLmxvZ2luLXRleHQnKTtcclxuICAgIHRoaXMubG9naW5Ub2dnbGUgPSAkKCcuc3dpdGNoJyk7XHJcbiAgICB0aGlzLmxvZ2luY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJyk7XHJcbiAgICB0aGlzLmxvZ2luUHJvbXB0ID0gJCgnLmxvZ2luLXByb21wdCcpO1xyXG4gICAgdGhpcy5zaWduaW5Hcm91cCA9ICQoJy5zaWduaW4tZ3JvdXAnKTtcclxuICAgIHRoaXMucHJvbXB0QWNjb3VudCA9IHRoaXMuc2lnbmluR3JvdXAuZmluZCgnLnByb21wdC1hY2NvdW50Jyk7XHJcbiAgICB0aGlzLnByb21wdFBhc3N3b3JkID0gdGhpcy5zaWduaW5Hcm91cC5maW5kKCcucHJvbXB0LXBhc3N3b3JkJyk7XHJcbiAgICB0aGlzLnVzZXJuYW1lQm9yZGVyID0gdGhpcy5zaWduaW5Hcm91cC5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKTtcclxuICAgIHRoaXMucGFzc3dvcmRCb3JkZXIgPSB0aGlzLnNpZ25pbkdyb3VwLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzd29yZFwiXScpO1xyXG4gICAgdGhpcy5zbXNDYXB0Y2hhQnRuID0gJCgnLnNtcy1jYXB0Y2hhLWJ0bicpO1xyXG4gICAgdGhpcy5zaWdudXBHcm91cCA9ICQoJy5zaWdudXAtZ3JvdXAnKTtcclxuICAgIHRoaXMuc2lnbnVwVGVsZXBob25lID0gdGhpcy5zaWdudXBHcm91cC5maW5kKCdpbnB1dFtuYW1lPVwidGVsZXBob25lXCJdJyk7XHJcbiAgICB0aGlzLm1zQ2FwdGNoYSA9IHRoaXMuc2lnbnVwR3JvdXAuZmluZCgnaW5wdXRbbmFtZT1cImltZy1jYXB0Y2hhLWNvZGVcIl0nKTtcclxuICAgIHRoaXMudGVzdE51bSA9ICd0ZXN0MTExMic7XHJcbiAgICAvLyB0aGlzLm5hdiA9ICQoJyNuYXYtdWwtYmFyJyk7XHJcbn1cclxuLy/nmbvlvZVob3ZlciBtb3JlIGJveFxyXG5TaWduaW4ucHJvdG90eXBlLmxpc3Rlbk1vcmVCb3hIb3ZlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYXV0aEJveCA9ICQoJy5hdXRoLWJveCcpO1xyXG4gICAgdmFyIGF1dGhNb3JlQm94ID0gJCgnLmF1dGgtbW9yZS1ib3gnKTtcclxuICAgIGF1dGhNb3JlQm94LmhpZGUoKTtcclxuICAgIGF1dGhCb3guaG92ZXIoZnVuY3Rpb24oKXtcclxuICAgICAgICBhdXRoTW9yZUJveC5zaG93KCk7XHJcbiAgICB9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgYXV0aE1vcmVCb3guaGlkZSgpO1xyXG4gICAgfSlcclxufTtcclxuXHJcblxyXG5cclxuXHJcbi8v54K55Ye7YmFubmVy5oum5re75YqgYWN0aXZlXHJcblNpZ25pbi5wcm90b3R5cGUubmF2RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgdmFyIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sO1xyXG4gICAgdmFyIGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDtcclxuICAgIC8vIGh0dHA6ICsgLy8gKyAxMjcuMC4wLjE6ODAwMFxyXG4gICAgdmFyIGRvbWFpbiA9IHByb3RvY29sICsgJy8vJyArIGhvc3Q7XHJcbiAgICB2YXIgcGF0aCA9IHVybC5yZXBsYWNlKGRvbWFpbiwnJyk7XHJcbiAgICB2YXIgbmF2TGlzID0gJChcIi5uYXYgbGlcIik7XHJcbiAgICBuYXZMaXMuZWFjaChmdW5jdGlvbiAoaW5kZXgsZWxlbWVudCkge1xyXG4gICAgICAgIC8vIGpzID0+ICQoanPlr7nosaEpXHJcbiAgICAgICAgdmFyIGxpID0gJChlbGVtZW50KTtcclxuICAgICAgICB2YXIgYVRhZyA9IGxpLmNoaWxkcmVuKFwiYVwiKTtcclxuICAgICAgICB2YXIgaHJlZiA9IGFUYWcuYXR0cihcImhyZWZcIik7XHJcbiAgICAgICAgaWYoaHJlZiA9PT0gcGF0aCl7XHJcbiAgICAgICAgICAgIGxpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcbi8vIFNpZ25pbi5wcm90b3R5cGUubmF2RXZlbnQgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgc2VsZi5uYXYuY2hpbGRyZW4oKS5jbGljayhmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdydW4gbmF2MCcpO1xyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdydW4gbmF2MCcsc2VsZi5uYXYpO1xyXG4vLyAgICAgICAgIHZhciBsaSA9ICQodGhpcyk7XHJcbi8vICAgICAgICAgbGkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4vLyAgICAgfSlcclxuLy8gfTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL+WPkemAgemqjOivgeeggeeCueWHu1xyXG5TaWduaW4ucHJvdG90eXBlLmxpc3RlblNlbmRNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5zbXNDYXB0Y2hhQnRuLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBzaWdudXBUZWxlcGhvbmVOdW0gPSBzZWxmLnNpZ251cFRlbGVwaG9uZS52YWwoKTtcclxuICAgICAgICB2YXIgbXNjYXB0Y2hhTnVtID0gIHNlbGYubXNDYXB0Y2hhLnZhbCgpO1xyXG4gICAgICAgIHNlbGYuc21zQ2FwdGNoYUJ0bi51bmJpbmQoJ2NsaWNrJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RlbGVwaG9uZScsc2lnbnVwVGVsZXBob25lTnVtKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY29kZScsbXNjYXB0Y2hhTnVtKTtcclxuICAgICAgICB2YXIgY291bnQgPSA1O1xyXG4gICAgICAgIHNlbGYuc21zQ2FwdGNoYUJ0bi5hZGRDbGFzcygnZGlzYWJsZUNsYXNzJyk7XHJcbiAgICAgICAgdmFyIHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgc2VsZi5zbXNDYXB0Y2hhQnRuLnRleHQoY291bnQrJ3MnKTtcclxuICAgICAgICAgICAgY291bnQgLT0gMTtcclxuICAgICAgICAgICAgaWYgKGNvdW50IDwgMCl7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYUJ0bi50ZXh0KCflj5HpgIHpqozor4HnoIEnKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYUJ0bi5yZW1vdmVDbGFzcygnZGlzYWJsZUNsYXNzJyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxpc3RlblNlbmRNZXNzYWdlRXZlbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgeW91cmFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9yZWdpc3Rlci9zZW5kJyxcclxuICAgICAgICAgICAgJ2RhdGEnOnsndGVsZXBob25lJzpzaWdudXBUZWxlcGhvbmVOdW0sJ2NvZGUnOm1zY2FwdGNoYU51bX0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbihyZXN1bHQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cocmVzdWx0WydtZXNzYWdlJ10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+mUmeivrycsZXJyb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuXHJcblNpZ25pbi5wcm90b3R5cGUuT3RoZXJ3aXNlID0gZnVuY3Rpb24oKXtcclxuICAgIHRoaXMubG9nT3V0Tm93LmNzcyh7J2N1cnNvcic6J3BvaW50ZXInfSk7XHJcbiAgICB2YXIgbG9nT3V0Tm93MiA9ICQoJy5sb2ctb3V0LW5vdzInKTtcclxuICAgIGxvZ091dE5vdzIuY3NzKHsnY29sb3InOidibGFjayd9KVxyXG59O1xyXG5cclxuXHJcblNpZ25pbi5wcm90b3R5cGUuc2lnbmluUHJvbXB0SGlkZUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYudXNlcm5hbWVCb3JkZXIuY3NzKHsnYm9yZGVyJzonMXB4IHNvbGlkICNjY2MnfSk7XHJcbiAgICBzZWxmLnBhc3N3b3JkQm9yZGVyLmNzcyh7J2JvcmRlcic6JzFweCBzb2xpZCAjY2NjJ30pO1xyXG4gICAgc2VsZi5wcm9tcHRBY2NvdW50LnRleHQoJycpO1xyXG4gICAgc2VsZi5wcm9tcHRQYXNzd29yZC50ZXh0KCcnKTtcclxuICAgIHNlbGYucHJvbXB0QWNjb3VudC5oaWRlKCk7XHJcbiAgICBzZWxmLnByb21wdFBhc3N3b3JkLmhpZGUoKTtcclxufTtcclxuXHJcblNpZ25pbi5wcm90b3R5cGUuc2lnbmluUHJvbXB0U2hvd0V2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucHJvbXB0QWNjb3VudC5zaG93KCk7XHJcbiAgICBzZWxmLnByb21wdFBhc3N3b3JkLnNob3coKTtcclxufTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy/miYDmnInnmbvlvZXms6jlhoznm5HlkKzml7bpl7RcclxuU2lnbmluLnByb3RvdHlwZS5MaXN0ZW5DbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy9tYXNr55m75b2V6I+c5Y2V5pi+56S6XHJcbiAgICBzZWxmLmxvZ2luQnRuLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYud3JhcHBlci5zaG93KCk7XHJcbiAgICAgICAgc2VsZi5sb2dpblByb21wdC5oaWRlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+eZu+W9leaMiemSrlxyXG4gICAgc2VsZi5zaWduaW5TdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdzdWJtaXRCdG4nKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB1c2VybmFtZSA9IHNlbGYuc2lnbmluR3JvdXAuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKCk7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkID0gc2VsZi5zaWduaW5Hcm91cC5maW5kKCdpbnB1dFtuYW1lPVwicGFzc3dvcmRcIl0nKS52YWwoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygndXNlcm5hbWUnLHVzZXJuYW1lKTtcclxuICAgICAgICBzZWxmLnNpZ25pblByb21wdEhpZGVFdmVudCgpO1xyXG4gICAgICAgIHNlbGYuc2lnbmluUHJvbXB0U2hvd0V2ZW50KCk7XHJcblxyXG4gICAgICAgIGxvZ2luYWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9yZWdpc3Rlci9sb2dpblZpZXcnLFxyXG4gICAgICAgICAgICAnZGF0YSc6eyd1c2VybmFtZSc6dXNlcm5hbWUsJ3Bhc3N3b3JkJzpwYXNzd29yZH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHTmgLvkv6Hmga8nLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KCfmiJDlip/nmbvlvZUnKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy/pgIDlh7rnmbvlvZVcclxuICAgIHNlbGYubG9nT3V0Tm93LmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9nb3V0Q2xpY2snKTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHlvdXJhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9yZWdpc3Rlci9sb2dvdXRWaWV3JyxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+azqOWGjOeCueWHu+WxleW8gFxyXG4gICAgc2VsZi5zaWdudXBCdXR0b24uY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgbWFza193cmFwcGVyID0gJCgnLm1hc2std3JhcHBlcicpO1xyXG4gICAgICAgIHZhciBzY3JvbGwgPSAkKCcuc2Nyb2xsLXdyYXBwZXInKTtcclxuICAgICAgICBzY3JvbGwuY3NzKHsnbGVmdCc6Jy00MDBweCd9KTtcclxuICAgICAgICBtYXNrX3dyYXBwZXIuc2hvdygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8v5Zu+54mH6aqM6K+B56CB54K55Ye7XHJcbiAgICBzZWxmLnNpZ251cEdyb3VwID0gJCgnLmlucHV0LWdyb3VwLWFkZG9uJyk7XHJcbiAgICBzZWxmLmltYWdlQ2FwdGNoYSA9IHNlbGYuc2lnbnVwR3JvdXAuZmluZCgnaW1nW2NsYXNzPVwiaW1nLWNhcHRjaGFcIl0nKTtcclxuICAgIHNlbGYuaW1hZ2VDYXB0Y2hhLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHJhbmRvbU51bSA9IFwiL3JlZ2lzdGVyL2ltZ19jYXB0Y2hhL1wiK1wiP3JhbmRvbT1cIitNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyYW5kb21OdW06JyxyYW5kb21OdW0pO1xyXG4gICAgICAgIHNlbGYuaW1hZ2VDYXB0Y2hhLmF0dHIoJ3NyYycscmFuZG9tTnVtKTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAgIC8v5rOo5YaM55m75b2V5oyJ6ZKuXHJcbiAgICBzZWxmLnNpZ251cFN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdEJ0bicpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHNpZ251cF9ncm91cCA9ICQoJy5zaWdudXAtZ3JvdXAnKTtcclxuICAgICAgICB2YXIgdXNlcm5hbWVfdGVtcCA9IHNpZ251cF9ncm91cC5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwoKTtcclxuICAgICAgICB2YXIgdGVsZXBob25lX3RlbXAgPSBzaWdudXBfZ3JvdXAuZmluZCgnaW5wdXRbbmFtZT1cInRlbGVwaG9uZVwiXScpLnZhbCgpO1xyXG4gICAgICAgIHZhciBwYXNzd29yZF90ZW1wMSA9IHNpZ251cF9ncm91cC5maW5kKCdpbnB1dFtuYW1lPVwicGFzc3dvcmQxXCJdJykudmFsKCk7XHJcbiAgICAgICAgdmFyIHBhc3N3b3JkX3RlbXAyID0gc2lnbnVwX2dyb3VwLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzd29yZDJcIl0nKS52YWwoKTtcclxuICAgICAgICB2YXIgdGVsZXBob25lX2NvZGUgPSBzaWdudXBfZ3JvdXAuZmluZCgnaW5wdXRbbmFtZT1cInNtc19jYXB0Y2hhXCJdJykudmFsKCk7XHJcbiAgICAgICAgeW91cmFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvcmVnaXN0ZXIvc2lnbnVwVmlldycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7J3VzZXJuYW1lJzp1c2VybmFtZV90ZW1wLCd0ZWxlcGhvbmUnOnRlbGVwaG9uZV90ZW1wLCdwYXNzd29yZDEnOnBhc3N3b3JkX3RlbXAxLCdwYXNzd29yZDInOnBhc3N3b3JkX3RlbXAyLCd0ZWxlcGhvbmVfY29kZSc6dGVsZXBob25lX2NvZGV9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KCfms6jlhozmiJDlip8nKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMzExKXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VPYmplY3QgPSByZXN1bHRbJ21lc3NhZ2UnXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZU9iamVjdCA9PSAnU3RyaW5nJyB8fCBtZXNzYWdlT2JqZWN0LmNvbnN0cnVjdG9yID09IFN0cmluZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cobWVzc2FnZU9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlT2JqZWN0JyxtZXNzYWdlT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/miZPljbDlh7rmnaVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdmYWlsJzpmdW5jdGlvbihlcnJvcil7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxuXHJcbiAgICAvL+WFs+mXreeZu+W9leazqOWGjOahhlxyXG4gICAgc2VsZi5sb2dpbmNsb3NlQnRuLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2VsZi53cmFwcGVyLmhpZGUoKTtcclxuICAgICAgICBzZWxmLnNpZ25pblByb21wdEhpZGVFdmVudCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy/nmbvlvZXms6jlhozliIfmjaJcclxuICAgIHNlbGYubG9naW5Ub2dnbGUuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgc2Nyb2xsID0gJCgnLnNjcm9sbC13cmFwcGVyJyk7XHJcbiAgICAgICAgdmFyIHNjcm9sbExlZnQgPSBzY3JvbGwuY3NzKCdsZWZ0Jyk7XHJcbiAgICAgICAgdmFyIGhlaWdodE51bSA9ICQoJy5hdXRoLXdyYXBwZXInKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnc2Nyb2xsTGVmdDonLHNjcm9sbExlZnQpO1xyXG4gICAgICAgIHZhciBzY3JvbGxMZWZ0TnVtID0gcGFyc2VJbnQoc2Nyb2xsTGVmdCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Njcm9sbExlZnROdW06JyxzY3JvbGxMZWZ0TnVtKTtcclxuICAgICAgICBpZiAoc2Nyb2xsTGVmdE51bSA9PT0gLTQwMCl7XHJcbiAgICAgICAgICAgIHNjcm9sbC5hbmltYXRlKHsnbGVmdCc6JzBweCd9LDUwMCk7XHJcbiAgICAgICAgICAgIGhlaWdodE51bS5jc3MoeydtYXJnaW4tdG9wJzonLTE4MHB4J30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihzY3JvbGxMZWZ0TnVtID09PSAwKXtcclxuICAgICAgICAgICAgc2Nyb2xsLmFuaW1hdGUoeydsZWZ0JzonLTQwMHB4J30sNTAwKTtcclxuICAgICAgICAgICAgaGVpZ2h0TnVtLmNzcyh7J21hcmdpbi10b3AnOictMjYwcHgnfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuc2lnbmluUHJvbXB0SGlkZUV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblNpZ25pbi5wcm90b3R5cGUuUnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubmF2RXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBzaWduaW4gPSBuZXcgU2lnbmluKCk7XHJcbiAgICBzaWduaW4uTGlzdGVuQ2xpY2soKTtcclxuICAgIHNpZ25pbi5PdGhlcndpc2UoKTtcclxuICAgIHNpZ25pbi5saXN0ZW5TZW5kTWVzc2FnZUV2ZW50KCk7XHJcbiAgICBzaWduaW4uUnVuKCk7XHJcbiAgICBzaWduaW4ubGlzdGVuTW9yZUJveEhvdmVyKCk7XHJcblxyXG59KTsiXX0=
