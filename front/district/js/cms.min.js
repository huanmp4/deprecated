function CMS(){this.thumbnail=$("#thumbnail-btn"),this.progressGroup=$("#progress-group"),this.buttonComplete=$("#thumbnail-btn-cancel"),this.progress=$(".progress"),this.releaseNewsBtn=$("#release-news-button")}CMS.prototype.listenReleaseBTN=function(){this.releaseNewsBtn.click(function(e){e.preventDefault();var t=$("#title-news").val(),o=$("#option-control"),r=o.val(),s=$('#option-control option[value="'+o+'"]').text(),n=window.ue.getContent(),i=CMS.thumbnail.val();console.log("title",t),console.log("category_text",s),console.log("category",o),console.log("content",n),console.log("thumbnail",i);var l={border:"#ced4da solid 1px"};o.css(l),o.css(l),404===parseInt(r)?(o.css({border:"red solid 1px"}),window.messageBox.showError("请选择分类")):yourajax.post({url:"/cms/release_news",data:{title:t,category:r,content:n,thumbnail:i},success:function(e){200===e.code&&(alertBox.alertSuccess("已完成"),console.log("成功",e),console.log("成功",e),console.log("成功",e))}})})},CMS.prototype.initUeditor=function(){window.ue=UE.getEditor("editor",{initialFrameWidth:"100%",serverUrl:"/ueditor/upload/",toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","customstyle","paragraph","fontfamily","fontsize","|","directionalityltr","directionalityrtl","indent","|","justifyleft","justifycenter","justifyright","justifyjustify","|","touppercase","tolowercase","|","link","unlink","anchor","|","imagenone","imageleft","imageright","imagecenter","|","simpleupload","insertimage","emotion","scrawl","insertvideo","music","attachment","map","gmap","insertframe","insertcode","webapp","pagebreak","template","background","|","horizontal","date","time","spechars","snapscreen","wordimage","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","drafts","help"]]})},CMS.prototype.listenThumbnailUploadEvent=function(){var c=this;c.thumbnail.change(function(){var n=this.files[0],i=(new Date).getTime()+"."+n.name.split(".")[1],l={fname:i,params:{},mimeType:null},a={useCndDomain:!0,retryCount:6,region:qiniu.region.z2};yourajax.get({url:"/cms/thumbnail_process",success:function(e){if(200===e.code){var t=e.data.token,o=qiniu.upload(n,i,t,l,a);console.log("observable",o);var r=$(".progress"),s=CMS.progressGroup;c.buttonComplete.text("取消"),c.buttonComplete.removeClass("btn-info"),c.buttonComplete.removeClass("btn-dark"),c.buttonComplete.addClass("btn-danger"),s.show(),r.show(),c.subscription=o.subscribe({next:c.handleFileUploadProcess,error:c.handleFileErrorProcess,complete:c.handleFileComplete})}}})})},CMS.prototype.listenCancelsubscription=function(){var t=this;t.buttonComplete.click(function(e){e.preventDefault(),t.subscription.unsubscribe(),t.progress.hide()})},CMS.prototype.handleFileUploadProcess=function(e){var t=this,o=e.total;console.log("precent",o);var r=o.percent,s=parseFloat(r).toFixed(2),n=parseInt(s)+"%";t.progressBar=$(".progress-bar"),t.progressBar.css({width:n}),t.progressBar.text("已完成"+s+"%")},CMS.prototype.handleFileErrorProcess=function(e){console.log("error",e),window.messageBox.show(e)},CMS.prototype.handleFileComplete=function(e){console.log("complete_response",e);var t=$("#thumbnail-btn-cancel");$(".progress").hide(),t.removeClass("btn-danger"),t.addClass("btn-info"),t.text("已完成"),this.progressBar.css({width:0}),console.log("完成");var o=CMS.thumbnail,r="http://q1wvz08zi.bkt.clouddn.com/"+e.key;o.val(r),window.messageBox.show("已完成")},CMS.prototype.Run=function(){this.listenThumbnailUploadEvent(),this.listenCancelsubscription(),this.listenReleaseBTN(),this.initUeditor()},$(function(){(new CMS).Run(),CMS.progressGroup=$("#progress-group"),CMS.thumbnail=$("#picture")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy5qcyJdLCJuYW1lcyI6WyJDTVMiLCJ0aGlzIiwidGh1bWJuYWlsIiwiJCIsInByb2dyZXNzR3JvdXAiLCJidXR0b25Db21wbGV0ZSIsInByb2dyZXNzIiwicmVsZWFzZU5ld3NCdG4iLCJwcm90b3R5cGUiLCJsaXN0ZW5SZWxlYXNlQlROIiwiY2xpY2siLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidGl0bGUiLCJ2YWwiLCJjYXRlZ29yeSIsImNhdGVnb3J5X3ZhbCIsImNhdGVnb3J5X3RleHQiLCJ0ZXh0IiwiY29udGVudCIsIndpbmRvdyIsInVlIiwiZ2V0Q29udGVudCIsImNvbnNvbGUiLCJsb2ciLCJib3JkZXJfd2hpdGUiLCJib3JkZXIiLCJjc3MiLCJwYXJzZUludCIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJ5b3VyYWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsImFsZXJ0Qm94IiwiYWxlcnRTdWNjZXNzIiwiaW5pdFVlZGl0b3IiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZVdpZHRoIiwic2VydmVyVXJsIiwidG9vbGJhcnMiLCJsaXN0ZW5UaHVtYm5haWxVcGxvYWRFdmVudCIsInNlbGYiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJrZXkiLCJEYXRlIiwiZ2V0VGltZSIsIm5hbWUiLCJzcGxpdCIsInB1dEV4dHJhIiwiZm5hbWUiLCJwYXJhbXMiLCJtaW1lVHlwZSIsImNvbmZpZyIsInVzZUNuZERvbWFpbiIsInJldHJ5Q291bnQiLCJyZWdpb24iLCJxaW5pdSIsInoyIiwiZ2V0IiwidG9rZW4iLCJvYnNlcnZhYmxlIiwidXBsb2FkIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNob3ciLCJzdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlRmlsZVVwbG9hZFByb2Nlc3MiLCJlcnJvciIsImhhbmRsZUZpbGVFcnJvclByb2Nlc3MiLCJjb21wbGV0ZSIsImhhbmRsZUZpbGVDb21wbGV0ZSIsImxpc3RlbkNhbmNlbHN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwiaGlkZSIsInJlc3BvbnNlIiwidG90YWwiLCJwZXJjZW50X3RlbXAiLCJwZXJjZW50IiwicGVyY2VudEZsb2F0IiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJwZXJjZW50SW50IiwicHJvZ3Jlc3NCYXIiLCJ3aWR0aCIsInRodW1ibmFpbENhbmNlbEJ0biIsIlJ1biJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsTUFHTEMsS0FBS0MsVUFBWUMsRUFBRSxrQkFDbkJGLEtBQUtHLGNBQWdCRCxFQUFFLG1CQUN2QkYsS0FBS0ksZUFBaUJGLEVBQUUseUJBQ3hCRixLQUFLSyxTQUFXSCxFQUFFLGFBQ2xCRixLQUFLTSxlQUFpQkosRUFBRSx3QkFRNUJILElBQUlRLFVBQVVDLGlCQUFtQixXQUNsQlIsS0FDTk0sZUFBZUcsTUFBTSxTQUFVQyxHQUNoQ0EsRUFBTUMsaUJBQ04sSUFBSUMsRUFBUVYsRUFBRSxlQUFlVyxNQUN6QkMsRUFBV1osRUFBRSxtQkFDYmEsRUFBZUQsRUFBU0QsTUFDeEJHLEVBQWdCZCxFQUFFLGlDQUFpQ1ksRUFBUyxNQUFNRyxPQUNsRUMsRUFBVUMsT0FBT0MsR0FBR0MsYUFDcEJwQixFQUFZRixJQUFJRSxVQUFVWSxNQUM5QlMsUUFBUUMsSUFBSSxRQUFRWCxHQUNwQlUsUUFBUUMsSUFBSSxnQkFBZ0JQLEdBQzVCTSxRQUFRQyxJQUFJLFdBQVdULEdBQ3ZCUSxRQUFRQyxJQUFJLFVBQVVMLEdBQ3RCSSxRQUFRQyxJQUFJLFlBQVl0QixHQUN4QixJQUFJdUIsRUFBYSxDQUFDQyxPQUFTLHFCQUUzQlgsRUFBU1ksSUFBSUYsR0FBY1YsRUFBU1ksSUFBSUYsR0FDVCxNQUEzQkcsU0FBU1osSUFDVEQsRUFBU1ksSUFIRSxDQUFDRCxPQUFTLGtCQUlyQk4sT0FBT1MsV0FBV0MsVUFBVSxVQUc1QkMsU0FBU0MsS0FBSyxDQUNWQyxJQUFPLG9CQUNQQyxLQUFRLENBQUNyQixNQUFTQSxF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QUNFSSxRQUFRLEdBQ2xDQyxFQUFhOUQsU0FBUzJELEdBQWMsSUFDeEN6QyxFQUFLNkMsWUFBY3hGLEVBQUUsaUJBQ3JCMkMsRUFBSzZDLFlBQVloRSxJQUFJLENBQUNpRSxNQUFRRixJQUM5QjVDLEVBQUs2QyxZQUFZekUsS0FBSyxNQUFNcUUsRUFBYSxNQUk3Q3ZGLElBQUlRLFVBQVVxRSx1QkFBeUIsU0FBU0QsR0FDNUNyRCxRQUFRQyxJQUFJLFFBQVFvRCxHQUNwQnhELE9BQU9TLFdBQVcwQyxLQUFLSyxJQUkzQjVFLElBQUlRLFVBQVV1RSxtQkFBcUIsU0FBU0ksR0FDeEM1RCxRQUFRQyxJQUFJLG9CQUFvQjJELEdBQ2hDLElBQ0lVLEVBQXFCMUYsRUFBRSx5QkFDWkEsRUFBRSxhQUNSK0UsT0FDVFcsRUFBbUJ4QixZQUFZLGNBQy9Cd0IsRUFBbUJ2QixTQUFTLFlBQzVCdUIsRUFBbUIzRSxLQUFLLE9BTmJqQixLQU9OMEYsWUFBWWhFLElBQUksQ0FBQ2lFLE1BQVEsSUFDOUJyRSxRQUFRQyxJQUFJLE1BQ1osSUFBSXRCLEVBQVlGLElBQUlFLFVBRWhCK0IsRUFEUyxvQ0FDTWtELEVBQVNqQyxJQUM1QmhELEVBQVVZLElBQUltQixHQUNkYixPQUFPUyxXQUFXMEMsS0FBSyxRQU8zQnZFLElBQUlRLFVBQVVzRixJQUFNLFdBQ2hCN0YsS0FBSzRDLDZCQUNMNUMsS0FBSytFLDJCQUNML0UsS0FBS1EsbUJBQ0xSLEtBQUtzQyxlQUdUcEMsRUFBRSxZQUNZLElBQUlILEtBQ1Y4RixNQUNKOUYsSUFBSUksY0FBZ0JELEVBQUUsbUJBQ3RCSCxJQUFJRSxVQUFZQyxFQUFFIiwiZmlsZSI6ImNtcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBDTVMoKXtcclxuXHJcblxyXG4gICAgdGhpcy50aHVtYm5haWwgPSAkKCcjdGh1bWJuYWlsLWJ0bicpO1xyXG4gICAgdGhpcy5wcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XHJcbiAgICB0aGlzLmJ1dHRvbkNvbXBsZXRlID0gJCgnI3RodW1ibmFpbC1idG4tY2FuY2VsJyk7XHJcbiAgICB0aGlzLnByb2dyZXNzID0gJCgnLnByb2dyZXNzJyk7XHJcbiAgICB0aGlzLnJlbGVhc2VOZXdzQnRuID0gJCgnI3JlbGVhc2UtbmV3cy1idXR0b24nKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8v5o+Q5Lqk5Y+R6KGo5paw6Ze76KGo5Y2VXHJcbkNNUy5wcm90b3R5cGUubGlzdGVuUmVsZWFzZUJUTiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5yZWxlYXNlTmV3c0J0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB0aXRsZSA9ICQoJyN0aXRsZS1uZXdzJykudmFsKCk7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gJCgnI29wdGlvbi1jb250cm9sJyk7XHJcbiAgICAgICAgdmFyIGNhdGVnb3J5X3ZhbCA9IGNhdGVnb3J5LnZhbCgpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeV90ZXh0ID0gJCgnI29wdGlvbi1jb250cm9sIG9wdGlvblt2YWx1ZT1cIicrY2F0ZWdvcnkrJ1wiXScpLnRleHQoKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IHdpbmRvdy51ZS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9IENNUy50aHVtYm5haWwudmFsKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RpdGxlJyx0aXRsZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NhdGVnb3J5X3RleHQnLGNhdGVnb3J5X3RleHQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjYXRlZ29yeScsY2F0ZWdvcnkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb250ZW50Jyxjb250ZW50KTtcclxuICAgICAgICBjb25zb2xlLmxvZygndGh1bWJuYWlsJyx0aHVtYm5haWwpO1xyXG4gICAgICAgIHZhciBib3JkZXJfd2hpdGU9eydib3JkZXInOicjY2VkNGRhIHNvbGlkIDFweCd9O1xyXG4gICAgICAgIHZhciBib3JkZXJfcmVkPXsnYm9yZGVyJzoncmVkIHNvbGlkIDFweCd9O1xyXG4gICAgICAgIGNhdGVnb3J5LmNzcyhib3JkZXJfd2hpdGUpO2NhdGVnb3J5LmNzcyhib3JkZXJfd2hpdGUpO1xyXG4gICAgICAgIGlmIChwYXJzZUludChjYXRlZ29yeV92YWwpID09PSA0MDQpe1xyXG4gICAgICAgICAgICBjYXRlZ29yeS5jc3MoYm9yZGVyX3JlZCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcign6K+36YCJ5oup5YiG57G7JylcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHlvdXJhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL3JlbGVhc2VfbmV3cycsXHJcbiAgICAgICAgICAgICAgICAnZGF0YSc6IHsndGl0bGUnOiB0aXRsZSwgJ2NhdGVnb3J5JzogY2F0ZWdvcnlfdmFsLCAnY29udGVudCc6IGNvbnRlbnQsICd0aHVtYm5haWwnOiB0aHVtYm5haWx9LFxyXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnRCb3guYWxlcnRTdWNjZXNzKCflt7LlrozmiJAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIkOWKnycsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmiJDlip8nLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5oiQ5YqfJywgcmVzdWx0KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5cclxuLy91ZWRpdG9yXHJcbkNNUy5wcm90b3R5cGUuaW5pdFVlZGl0b3IgPSBmdW5jdGlvbigpe1xyXG4gICAgd2luZG93LnVlID0gVUUuZ2V0RWRpdG9yKCdlZGl0b3InLHtcclxuICAgICAgICAnaW5pdGlhbEZyYW1lV2lkdGgnOicxMDAlJyxcclxuICAgICAgICAnc2VydmVyVXJsJzonL3VlZGl0b3IvdXBsb2FkLycsXHJcbiAgICAgICAgJ3Rvb2xiYXJzJzpbW1xyXG4gICAgICAgICAgICAnZnVsbHNjcmVlbicsJ3NvdXJjZScsICd8JywgJ3VuZG8nLCAncmVkbycsICd8JyxcclxuICAgICAgICAgICAgJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdmb250Ym9yZGVyJywgJ3N0cmlrZXRocm91Z2gnLCAnc3VwZXJzY3JpcHQnLCAnc3Vic2NyaXB0JywgJ3JlbW92ZWZvcm1hdCcsICdmb3JtYXRtYXRjaCcsICdhdXRvdHlwZXNldCcsICdibG9ja3F1b3RlJywgJ3Bhc3RlcGxhaW4nLCAnfCcsICdmb3JlY29sb3InLCAnYmFja2NvbG9yJywgJ2luc2VydG9yZGVyZWRsaXN0JywgJ2luc2VydHVub3JkZXJlZGxpc3QnLCAnc2VsZWN0YWxsJywgJ2NsZWFyZG9jJywgJ3wnLFxyXG4gICAgICAgICAgICAncm93c3BhY2luZ3RvcCcsICdyb3dzcGFjaW5nYm90dG9tJywgJ2xpbmVoZWlnaHQnLCAnfCcsXHJcbiAgICAgICAgICAgICdjdXN0b21zdHlsZScsICdwYXJhZ3JhcGgnLCAnZm9udGZhbWlseScsICdmb250c2l6ZScsICd8JyxcclxuICAgICAgICAgICAgJ2RpcmVjdGlvbmFsaXR5bHRyJywgJ2RpcmVjdGlvbmFsaXR5cnRsJywgJ2luZGVudCcsICd8JyxcclxuICAgICAgICAgICAgJ2p1c3RpZnlsZWZ0JywgJ2p1c3RpZnljZW50ZXInLCAnanVzdGlmeXJpZ2h0JywgJ2p1c3RpZnlqdXN0aWZ5JywgJ3wnLCAndG91cHBlcmNhc2UnLCAndG9sb3dlcmNhc2UnLCAnfCcsXHJcbiAgICAgICAgICAgICdsaW5rJywgJ3VubGluaycsICdhbmNob3InLCAnfCcsICdpbWFnZW5vbmUnLCAnaW1hZ2VsZWZ0JywgJ2ltYWdlcmlnaHQnLCAnaW1hZ2VjZW50ZXInLCAnfCcsXHJcbiAgICAgICAgICAgICdzaW1wbGV1cGxvYWQnLCAnaW5zZXJ0aW1hZ2UnLCAnZW1vdGlvbicsICdzY3Jhd2wnLCAnaW5zZXJ0dmlkZW8nLCAnbXVzaWMnLCAnYXR0YWNobWVudCcsICdtYXAnLCAnZ21hcCcsICdpbnNlcnRmcmFtZScsICdpbnNlcnRjb2RlJywgJ3dlYmFwcCcsICdwYWdlYnJlYWsnLCAndGVtcGxhdGUnLCAnYmFja2dyb3VuZCcsICd8JyxcclxuICAgICAgICAgICAgJ2hvcml6b250YWwnLCAnZGF0ZScsICd0aW1lJywgJ3NwZWNoYXJzJywgJ3NuYXBzY3JlZW4nLCAnd29yZGltYWdlJywgJ3wnLFxyXG4gICAgICAgICAgICAnaW5zZXJ0dGFibGUnLCAnZGVsZXRldGFibGUnLCAnaW5zZXJ0cGFyYWdyYXBoYmVmb3JldGFibGUnLCAnaW5zZXJ0cm93JywgJ2RlbGV0ZXJvdycsICdpbnNlcnRjb2wnLCAnZGVsZXRlY29sJywgJ21lcmdlY2VsbHMnLCAnbWVyZ2VyaWdodCcsICdtZXJnZWRvd24nLCAnc3BsaXR0b2NlbGxzJywgJ3NwbGl0dG9yb3dzJywgJ3NwbGl0dG9jb2xzJywgJ2NoYXJ0cycsICd8JyxcclxuICAgICAgICAgICAgJ3ByaW50JywgJ3ByZXZpZXcnLCAnc2VhcmNocmVwbGFjZScsICdkcmFmdHMnLCdoZWxwJ1xyXG4gICAgICAgIF1dXHJcbiAgICB9KVxyXG59O1xyXG5cclxuXHJcbi8v6I635Y+W5paw6Ze75Y+R5biDXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8v57yp55Wl5Zu+5LiK5Lyg5LiD54mb5LqR5Li756iL5bqPXHJcbkNNUy5wcm90b3R5cGUubGlzdGVuVGh1bWJuYWlsVXBsb2FkRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi50aHVtYm5haWwuY2hhbmdlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBrZXkgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSsnLicrZmlsZS5uYW1lLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xyXG4gICAgICAgICAgICBmbmFtZTprZXksXHJcbiAgICAgICAgICAgIHBhcmFtczp7fSxcclxuICAgICAgICAgICAgbWltZVR5cGU6bnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgdXNlQ25kRG9tYWluOnRydWUsXHJcbiAgICAgICAgICAgIHJldHJ5Q291bnQ6Ni4wMCxcclxuICAgICAgICAgICAgcmVnaW9uOnFpbml1LnJlZ2lvbi56MlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeW91cmFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9jbXMvdGh1bWJuYWlsX3Byb2Nlc3MnLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24ocmVzdWx0KXtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IHFpbml1LnVwbG9hZChmaWxlLGtleSx0b2tlbixwdXRFeHRyYSxjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvYnNlcnZhYmxlJyxvYnNlcnZhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSAkKCcucHJvZ3Jlc3MnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3NHcm91cCA9IENNUy5wcm9ncmVzc0dyb3VwO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnV0dG9uQ29tcGxldGUudGV4dCgn5Y+W5raIJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5idXR0b25Db21wbGV0ZS5yZW1vdmVDbGFzcygnYnRuLWluZm8nKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmJ1dHRvbkNvbXBsZXRlLnJlbW92ZUNsYXNzKCdidG4tZGFyaycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYnV0dG9uQ29tcGxldGUuYWRkQ2xhc3MoJ2J0bi1kYW5nZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0dyb3VwLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0JzpzZWxmLmhhbmRsZUZpbGVVcGxvYWRQcm9jZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InOnNlbGYuaGFuZGxlRmlsZUVycm9yUHJvY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbXBsZXRlJzpzZWxmLmhhbmRsZUZpbGVDb21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufTtcclxuXHJcbi8v5LiD54mb5LiK5Lyg5Y+W5raI55uR5ZCsXHJcbkNNUy5wcm90b3R5cGUubGlzdGVuQ2FuY2Vsc3Vic2NyaXB0aW9uID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuYnV0dG9uQ29tcGxldGUuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2VsZi5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICBzZWxmLnByb2dyZXNzLmhpZGUoKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG4vL+S4g+eJm+S4iuS8oOWkhOeQhuS4rVxyXG5DTVMucHJvdG90eXBlLmhhbmRsZUZpbGVVcGxvYWRQcm9jZXNzID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRvdGFsID0gcmVzcG9uc2UudG90YWw7XHJcbiAgICBjb25zb2xlLmxvZygncHJlY2VudCcsdG90YWwpO1xyXG4gICAgdmFyIHBlcmNlbnRfdGVtcCA9IHRvdGFsLnBlcmNlbnQ7XHJcbiAgICB2YXIgcHJlY2VudEludCA9IHBhcnNlRmxvYXQocGVyY2VudF90ZW1wKTtcclxuICAgIHZhciBwZXJjZW50RmxvYXQgPSBwcmVjZW50SW50LnRvRml4ZWQoMik7XHJcbiAgICB2YXIgcGVyY2VudEludCA9IHBhcnNlSW50KHBlcmNlbnRGbG9hdCkrJyUnO1xyXG4gICAgc2VsZi5wcm9ncmVzc0JhciA9ICQoJy5wcm9ncmVzcy1iYXInKTtcclxuICAgIHNlbGYucHJvZ3Jlc3NCYXIuY3NzKHsnd2lkdGgnOnBlcmNlbnRJbnR9KTtcclxuICAgIHNlbGYucHJvZ3Jlc3NCYXIudGV4dCgn5bey5a6M5oiQJytwZXJjZW50RmxvYXQrJyUnKVxyXG59O1xyXG5cclxuLy/kuIPniZvkuIrkvKDplJnor69cclxuQ01TLnByb3RvdHlwZS5oYW5kbGVGaWxlRXJyb3JQcm9jZXNzID0gZnVuY3Rpb24oZXJyb3Ipe1xyXG4gICAgY29uc29sZS5sb2coJ2Vycm9yJyxlcnJvcik7XHJcbiAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93KGVycm9yKTtcclxufTtcclxuXHJcbi8v5LiD54mb5LiK5Lyg5a6M5oiQXHJcbkNNUy5wcm90b3R5cGUuaGFuZGxlRmlsZUNvbXBsZXRlID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgY29uc29sZS5sb2coJ2NvbXBsZXRlX3Jlc3BvbnNlJyxyZXNwb25zZSk7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgdGh1bWJuYWlsQ2FuY2VsQnRuID0gJCgnI3RodW1ibmFpbC1idG4tY2FuY2VsJyk7XHJcbiAgICB2YXIgcHJvZ3Jlc3MgPSAkKCcucHJvZ3Jlc3MnKTtcclxuICAgIHByb2dyZXNzLmhpZGUoKTtcclxuICAgIHRodW1ibmFpbENhbmNlbEJ0bi5yZW1vdmVDbGFzcygnYnRuLWRhbmdlcicpO1xyXG4gICAgdGh1bWJuYWlsQ2FuY2VsQnRuLmFkZENsYXNzKCdidG4taW5mbycpO1xyXG4gICAgdGh1bWJuYWlsQ2FuY2VsQnRuLnRleHQoJ+W3suWujOaIkCcpO1xyXG4gICAgc2VsZi5wcm9ncmVzc0Jhci5jc3Moeyd3aWR0aCc6MH0pO1xyXG4gICAgY29uc29sZS5sb2coJ+WujOaIkCcpO1xyXG4gICAgdmFyIHRodW1ibmFpbCA9IENNUy50aHVtYm5haWw7XHJcbiAgICB2YXIgZG9tYWluID0gJ2h0dHA6Ly9xMXd2ejA4emkuYmt0LmNsb3VkZG4uY29tLyc7XHJcbiAgICB2YXIgdXJsID0gZG9tYWluICsgcmVzcG9uc2Uua2V5O1xyXG4gICAgdGh1bWJuYWlsLnZhbCh1cmwpO1xyXG4gICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvdygn5bey5a6M5oiQJylcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuXHJcbkNNUy5wcm90b3R5cGUuUnVuID0gZnVuY3Rpb24oKXtcclxuICAgIHRoaXMubGlzdGVuVGh1bWJuYWlsVXBsb2FkRXZlbnQoKTtcclxuICAgIHRoaXMubGlzdGVuQ2FuY2Vsc3Vic2NyaXB0aW9uKCk7XHJcbiAgICB0aGlzLmxpc3RlblJlbGVhc2VCVE4oKTtcclxuICAgIHRoaXMuaW5pdFVlZGl0b3IoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBjbXMgPSBuZXcgQ01TKCk7XHJcbiAgICBjbXMuUnVuKCk7XHJcbiAgICBDTVMucHJvZ3Jlc3NHcm91cCA9ICQoJyNwcm9ncmVzcy1ncm91cCcpO1xyXG4gICAgQ01TLnRodW1ibmFpbCA9ICQoJyNwaWN0dXJlJyk7XHJcbn0pOyJdfQ==
